---
slug: /hmdp-plus/startup/backend-deploy
---
# 后端项目部署启动

:::info plus 版本专属
此章节是黑马点评 Plus 版本中专有的内容，而在整套文档中将普通版本和 Plus 版本都融合在了一起，让大家更方便的学习。
:::

小伙伴需要先把这两节内容阅读完毕

[准备项目启动条件](/hmdp-plus/startup/prerequisites)

[如何安装项目需要的中间件环境](/hmdp-plus/startup/install-middlewares)

按照文档的说明进行项目和数据库以及中间件的环境都部署完后，就可以开始进行项目的启动了

## 服务的启动
### 设置启动参数
项目中设计到中间件的地址都是用的 127.0.0.1，如果小伙伴在自己的云服务上搭建了中间件或者使用本人提供的云环境，需要借助设置启动参数的形式将 127.0.0.1 替换成真正的地址

### 将服务真正的启动
选择对应的SpringBoot启动入口，先进行Run或者Debug启动一下

<img src="/img/hmdp-plus/启动后端服务/1-debug位置.png" alt="表关系" width="60%" />

启动完后，idea的右上角就会有启动管理入口了

<img src="/img/hmdp-plus/启动后端服务/2-启动入口配置.png" alt="表关系" width="60%" />


然后选择底部的 编辑配置 选项

<img src="/img/hmdp-plus/启动后端服务/3-编辑配置.png" alt="表关系" width="60%" />


然后选择 修改选项 菜单

<img src="/img/hmdp-plus/启动后端服务/4-修改选项.png" alt="表关系" width="60%" />



然后选择 添加虚拟机选项

<img src="/img/hmdp-plus/启动后端服务/5-添加虚拟机选项.png" alt="表关系" width="60%" />


然后将具体的参数添加进去

<img src="/img/hmdp-plus/启动后端服务/6-添加配置参数.png" alt="表关系" width="60%" />

### 详细参数
```shell
-XX:MaxMetaspaceSize=256M
-Xmx256M
-Dspring.data.redis.host=${redis地址}
-Dspring.data.redis.password=${redis地址密码}
-Dspring.kafka.bootstrap-servers=${kafka地址}:9092
-Dprefix.distinction.name=my
```

### 参数说明（非常重要！！！）
+ `prefix.distinction.name` 不要用默认的 **my** ！！！
    - 它作用是为了多人使用云环境的中间件时，保持每个人的数据唯一，通过此配置在相应的中间件数据中加上前缀就可以实现唯一了，比如Redis中的键名、Kafka的Topic。
    - **所以一定要换成你自己唯一的标识！！！**
    - **值一定要都小写！**

### 启动错误
**有的小伙伴在启动时，会出现如下图中的错误，只要按图中指示，选择 Shorten the command line and rerun 即可**

<img src="/img/hmdp-plus/启动后端服务/7-Shorten.png" alt="表关系" width="100%" />

### 启动出现“ClassNotFoundException”异常
有的小伙伴将中间件都配置正确，数据库的配置也没问题，启动时出现了“ClassNotFoundException”异常

<img src="/img/hmdp-plus/启动后端服务/8-ClassNotFoundException.png" alt="表关系" width="100%" />

这时要修改启动的配置，在 **缩短命令行**，选择 **JAR清单 - java -cp classpath.jar className [args]**

<img src="/img/hmdp-plus/启动后端服务/9-JAR清单.png" alt="表关系" width="100%" />

