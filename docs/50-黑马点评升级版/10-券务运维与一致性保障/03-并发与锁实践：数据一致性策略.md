---
slug: /hmdp-plus/ops-consistency/concurrency-lock-consistency
---

import PaidCTA from '@site/src/components/PaidCTA';

# 并发与锁实践：数据一致性策略

:::info plus 版本专属
此章节是黑马点评 Plus 版本中专有的内容，而在整套文档中将普通版本和 Plus 版本都融合在了一起，让大家更方便的学习。
:::

通过之前的章节，我们讲解了如何在查询优惠券和库存时使用了 **本地缓存 + 双重判断 + 缓存空值 + 分布式锁 + 布隆过滤器** 来解决缓存存在的各种问题。

也讲解了如何在高并发下进行修改库存，因为查询库存时用到了锁，而这又是高并发场景，所以怎么能实现既能保证修改库存时数据一致？又能保证尽可能的不互斥提高高并发的性能呢？

看起来这两个要求是彼此矛盾的，但是确实是有方案可以实现的，本章节就来详细讲解是如何搞定的

## 一、加载库存中的锁
首先来到加载库存的部分，看看里面进行加锁的部分

<PaidCTA />