---
slug: /link-flow/features/config-center-routing-params
---

import PaidCTA from '@site/src/components/PaidCTA';

# 使用配置中心读取和配置路由参数

路由隔离参数的配置策略除了可以通过请求头传递之外，还提供了通过配置中心来配置的方式，这样可以方便的修改，是热部署方式，修改后，服务无需重启，即可修改后的策略。

本章节将详细讲解如果通过使用配置中心来读取和配置路由参数。

link-flow 支持的配置中心有 Nacos 和 Apollo，为了方便操作，已经做了统一适配，所有操作上都是一样的，下面以Nacos配置中心为例进行讲解。

# 设置组
首先要在项目的配置中设置好组：
```yaml
spring:
  cloud:
    link-flow:
      metadata:
        group: test-group
```

# 所有服务读取相同的配置
在Nacos中创建配置时，配置命令空间中的Group，就是上一步配置好的组 test-group。

如果想让所有的服务都使用同一个配置的话，link-flow 是可以支持的，只需要将Nacos配置中命令空间中的Data ID也设置成配置好的组 test-group，也就是这样：
![](/img/link-flow/对配置中心元数据的填充/对配置中心元数据的填充.png)

# 每个服务读取自己所属服务的配置
同样在Nacos中创建配置时，也要配置命令空间中的Group，就是上一步配置好的组 test-group。

如果想让每个服务使用自己所属服务的配置，只需要将Nacos配置中命令空间中的Data ID也设置成配置好 服务名，以consumer-service为例：
```yaml
spring:
  application:
    name: consumer-service
  cloud:
    link-flow:
      metadata:
        group: test-group
        version: 1.0
        zone: test-zone-1
```
配置中配置了服务名为 consumer-service，组为 test-group，那么在Nacos中创建配置时，就是这样：
![](/img/link-flow/对配置中心元数据的填充/新建配置.png)
<PaidCTA />