---
slug: /link-flow/lb-enhancement/gray-flag-filter
---

import PaidCTA from '@site/src/components/PaidCTA';

# 灰色标识 维度的服务过滤功能

预生产环境功能是为了让测试时，能够在生产环境中的进行测试，而不影响到生产环境的服务。这样可以让测试更加全面，避免由于测试和生产环境不一致而产生的隐患问题。

关于此部分的详细讲解，请跳转到 技术精华讲解-设计预生产环境让测试更加严谨 章节

而实现在同一个注册中心下，预生产服务和生产服务隔离的办法就是让预生产服务中多一个灰色标识，只要存在这个这个标识，那么这个服务就是预生产的

# 灰色标识的设置
在配置中指定开启或关闭（默认关闭状态）
```yaml
spring:
  application:
    link-flow:
      work:
        # 灰度标识开关
        gray:
          activate: true
```
具体服务自己的灰色标识值通过在项目的配置文件中指定
```yaml
spring:
  cloud:
    link-flow:
      metadata:
        gray: true
```
在项目启动后，就会自动将灰色标识放置在服务中的元数据中
![](/img/link-flow/灰色标识维度的服务过滤功能/1.png)
![](/img/link-flow/灰色标识维度的服务过滤功能/预生产环境.jpg)

<PaidCTA />