---
slug: /architecture/solution-design/short-url-distributed-id
description: "短链服务全局唯一简短不可预测技术要求;Base62编码与雪花算法ID生成;短码哈希冲突与重定向机制;301/302跳转策略与统计埋点设计。"
keywords: ["短链服务", "Base62", "分布式ID", "短网址", "URL重定向"]
sidebar_class_name: has-paid-badge
---

import PaidCTA from '@site/src/components/PaidCTA';

# 短链服务设计与分布式ID生成

## 唯一码生成的技术难点

在用户邀请、活动分享等场景中，需要为每个资源生成一个简短且唯一的标识码。这类需求看似简单，却隐藏着多个技术挑战：

```mermaid
graph TD
    A["唯一码生成挑战"] --> B["全局唯一"]
    A --> C["简短易记"]
    A --> D["不可预测"]
    A --> E["高吞吐量"]
    
    B --> B1["分布式环境无冲突"]
    C --> C1["6-8位最佳"]
    D --> D1["防止遍历攻击"]
    E --> E1["支撑万级QPS"]
    
    style A fill:#4A90E2,color:#fff,rx:10,ry:10
    style B fill:#E74C3C,color:#fff,rx:10,ry:10
    style C fill:#9B59B6,color:#fff,rx:10,ry:10
    style D fill:#27AE60,color:#fff,rx:10,ry:10
    style E fill:#E67E22,color:#fff,rx:10,ry:10
```

## 发号器 + Base58编码方案

### 为什么选择Base58而非Base62

Base58是比特币地址采用的编码方案，相比Base62有更好的可读性：

| 对比项 | Base62 | Base58 |
|-------|--------|--------|
| 字符数 | 62个 | 58个 |
| 排除字符 | 无 | 0/O/I/l |
| 易混淆 | 0和O、1和l容易混淆 | 去除易混淆字符 |
| 适用场景 | 程序内部 | 用户可见场景 |

Base58字符集：`123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz`

使用7位Base58编码可表示：58^7 ≈ 2.2万亿种组合。

<PaidCTA />